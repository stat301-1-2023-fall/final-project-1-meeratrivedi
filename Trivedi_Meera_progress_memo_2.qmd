---
title: "Progress Memo 2"
subtitle: |
  | Final Project 
  | Data Science 1 with R (STAT 301-1)
author: "Meera Trivedi"

format:
  html:
    toc: true
    embed-resources: true
    
execute:
  echo: false
  warning: false

from: markdown+emoji 
---

::: {.callout-tip icon="false"}
## Github Repo Link

[My GitHub Repo](https://github.com/stat301-1-2023-fall/final-project-1-meeratrivedi.git)
:::

## Data and Packages

```{r}
#| message: false

library(tidyverse)

lines <- read_csv("data/friends.csv")
info <- read_csv("data/friends_info.csv")
emotions <- read_csv("data/friends_emotions.csv")
```

## Investigating the Data

explanation

```{r}
glimpse(lines)
```

```{r}
glimpse(info)
```

```{r}
glimpse(emotions)
```

## Data Cleaning

### Joining Datasets

explanation

```{r}
lines_emotions <- lines |> 
  filter(speaker != "Scene Directions") |> 
  left_join(emotions)
```

```{r}
linesinfo <- 
lines |> 
  full_join(info)
```


### Subsetting Data
```{r}
monica <- lines |> 
  filter(speaker == "Monica Geller") 
```


```{r}
maincharacters <- lines |> 
  filter(speaker %in% c("Monica Geller", 
                        "Ross Geller", 
                        "Rachel Green", 
                        "Phoebe Buffay", 
                        "Joey Tribbiani", 
                        "Chandler Bing"))
```

```{r}
guestcharacters <- lines |> 
  filter(!speaker %in% c("Monica Geller", 
                         "Ross Geller", 
                         "Rachel Green", 
                         "Phoebe Buffay", 
                         "Joey Tribbiani", 
                         "Chandler Bing", 
                         "Scene Directions", 
                         "#ALL#")) |> 
  filter(!is.na(speaker))
```

```{r}
topguestcharacters <- guestcharacters |> 
  group_by(speaker) |> 
  count(speaker) |> 
  filter(n > 10) |> 
  arrange(desc(n)) |> 
  rename(num_lines = n)
```

```{r}
writers <- info |> 
  count(written_by) |>
  filter(n > 1) |> 
  arrange(desc(n)) |> 
  rename(episodes_written = n) |> 
  slice_max(episodes_written, n = 10)
```

```{r}
topguestlines <- lines |> 
  filter(speaker %in% c("Mike Hannigan", 
                        "Richard Burke", 
                        "Janice Litman Goralnik", 
                        "Carol Willick", 
                        "Charlie Wheeler", 
                        "Judy Geller", 
                        "Frank Buffay Jr.", 
                        "Emily Waltham", 
                        "Jack Geller", 
                        "Tag Jones")) |> 
  mutate(speaker = factor(speaker, 
                          #order of levels
                          levels = c("Mike Hannigan", 
                                     "Richard Burke", 
                                     "Janice Litman Goralnik", 
                                     "Carol Willick", 
                                     "Charlie Wheeler", 
                                     "Judy Geller", 
                                     "Frank Buffay Jr.", 
                                     "Emily Waltham", 
                                     "Jack Geller", 
                                     "Tag Jones")))
```



## Summary Statistics

explanation

```{r}
info |> 
  summarize(mean = mean(imdb_rating), 
            .by = season) |>
  knitr::kable()
```


```{r}
info |> 
  summarize(mean = mean(us_views_millions), 
            .by = season) |> 
  knitr::kable()
```

## Univariate Analyses

@fig-bar1 first shows us the distribution of the number of ... 

![Line Count of the Six Main Characters](plots/line_dist_maincharacters.png){#fig-bar1}

@fig-bar2 first shows us the distribution of the number of ... 

![Line Count of the Guest Characters](plots/line_dist_guestcharacters.png){#fig-bar2}



@fig-plot1 first shows us the distribution of the number of ... 

![Line Count - Monica Geller](plots/line_by_season_monica.png){#fig-plot1}

@fig-bar3 first shows us the distribution of the number of ... 

![Count of Lines by Emotion](plots/emotions_count.png){#fig-bar3}

## Multivariate Analyses

explanation

@fig-plot2 first shows us the distribution of the number of ... 

![Line Count - Main Characters](plots/line_by_season_maincharacters.png){#fig-plot2}



## Summary of Progress

explanation

